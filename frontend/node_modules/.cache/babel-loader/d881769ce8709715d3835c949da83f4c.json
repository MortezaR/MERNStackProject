{"ast":null,"code":"// import raikouSprites from '../assets/images/raikou_sprites.png'\nimport Sprite from './sprite.js';\nimport pigAvatar from '../assets/images/pigAvatar.png';\nimport wolfAvatar from '../assets/images/wolfavatar.png';\nimport clockIcon from '../assets/images/clockicon.png';\nimport bunshin from '../assets/images/bunshin.png';\nimport bunshinCooldown from '../assets/images/bunshindown.png';\nexport default class resBar {\n  constructor(isWolf, id, x, y, width, height) {\n    // this.id = id;\n    // this.x = x;\n    // this.y = y;\n    // this.width = width;\n    // this.height = height;\n    this.isWolf = isWolf;\n    this.resourcesLeft = 0;\n    this.terminalsLeft = 0;\n    this.resourcesCollected = 0;\n    this.timeLeft = 0;\n    this.timeEllapsed = 0;\n    this.killCount = 0;\n    this.pigAvatar = new Image();\n    this.pigAvatar.src = pigAvatar;\n    this.wolfAvatar = new Image();\n    this.wolfAvatar.src = wolfAvatar;\n    this.clockIcon = new Image();\n    this.clockIcon.src = clockIcon;\n    this.bunshin = new Image();\n    this.bunshin.src = bunshin;\n    this.bunshinCooldown = new Image();\n    this.bunshinCooldown.src = bunshinCooldown;\n  }\n\n  update(resource) {\n    this.resourcesCollected = resource;\n  }\n\n  updateGameInfo(data) {\n    if (this.timeLeft === 0) this.timeLeft = data.timeLeft;\n    this.resourcesLeft = data.resourcesLeft;\n    this.terminalsLeft = data.terminalsLeft;\n    this.timeEllapsed += this.timeLeft - data.timeLeft;\n    this.timeLeft = data.timeLeft;\n    this.killCount = data.killCount;\n    console.log(this.killCount);\n  }\n\n  draw(context) {\n    //Wolf stuff\n    if (this.isWolf) {\n      //Pig resources dial\n      var w = context.canvas.clientWidth;\n      var h = context.canvas.clientHeight;\n      var r1 = Math.min(274, 274) * 0.4; // outer radius\n\n      var r0 = r1 - 40; // inner radius\n\n      var n = 3; // number of blocks\n\n      var theta = 2 * Math.PI / n;\n      var phi = theta * 0.5; // relative half-block width\n\n      context.save();\n      context.fillStyle = 'hsla(175, 0%, 55%,0.5)';\n      context.translate(w * 0.07, h * 0.78); // move to center of circle\n\n      for (var i = 0; i < n; ++i) {\n        context.beginPath();\n        context.arc(0, 0, r0, -phi, phi);\n        context.arc(0, 0, r1, phi, -phi, true);\n        context.fill();\n        context.strokeStyle = '#656565';\n        context.lineWidth = 2;\n        context.stroke();\n        context.rotate(theta); // rotate the coordinates by one block\n      } //Purple blocks\n\n\n      for (var i = 0; i < this.killCount; ++i) {\n        context.beginPath();\n        context.arc(0, 0, r0, -phi, phi);\n        context.arc(0, 0, r1, phi, -phi, true);\n        context.fillStyle = 'hsla(263, 39%, 43%, 0.6)';\n        context.fill();\n        context.strokeStyle = '#3f1775';\n        context.lineWidth = 2;\n        context.stroke();\n        context.rotate(theta); // rotate the coordinates by one block\n      }\n\n      context.restore(); //Pig avatar\n\n      context.drawImage(this.wolfAvatar, 0, 0, 137, 137, w * 0.07 - 68.5, h * 0.78 - 68.5, 137, 137); //Terminals Remaining\n\n      context.beginPath();\n      context.rect(20, h - 70, 250, 25);\n      context.fillStyle = 'black';\n      context.fill();\n      context.closePath();\n\n      if (this.terminalsLeft >= 1) {\n        context.beginPath();\n        context.rect(105, h - 66, 50, 17);\n        context.fillStyle = '#5afdc5';\n        context.fill();\n        context.closePath();\n      }\n\n      if (this.terminalsLeft >= 2) {\n        context.beginPath();\n        context.rect(160, h - 66, 50, 17);\n        context.fillStyle = '#5afdc5';\n        context.fill();\n        context.closePath();\n      }\n\n      if (this.terminalsLeft >= 3) {\n        context.beginPath();\n        context.rect(215, h - 66, 50, 17);\n        context.fillStyle = '#5afdc5';\n        context.fill();\n        context.closePath();\n      } //Terminal label\n\n\n      context.font = \"18px Bebas Neue\";\n      context.textBaseline = 'middle';\n      context.textAlign = 'center';\n      context.fillStyle = '#5afdc5';\n      context.fillText('TERMINALS', 60, h - 56); //Deposits Remaining\n\n      context.beginPath();\n      context.rect(20, h * 0.95, 400, 25);\n      context.fillStyle = 'black';\n      context.fill();\n      context.closePath();\n      context.beginPath();\n      context.rect(105, h * 0.95 + 4, 310 * (this.resourcesLeft / 20), 17);\n      context.fillStyle = '#fdca20';\n      context.fill();\n      context.closePath(); //Deposits label\n\n      context.font = \"18px Bebas Neue\";\n      context.textBaseline = 'middle';\n      context.textAlign = 'center';\n      context.fillStyle = '#fdca20';\n      context.fillText('DEPOSITS', 60, h * 0.95 + 14); //Time Remaining\n\n      context.font = \"bold 40px Oswald\";\n      context.textBaseline = 'middle';\n      context.textAlign = 'center';\n      context.fillStyle = 'white';\n      context.fillText(Math.floor(this.timeLeft * 10) / 10, w - 35, 30); //Clock Icon\n\n      context.drawImage(this.clockIcon, 0, 0, 35, 35, w - 100, 9, 35, 35);\n    } //Pig stuff\n    else {\n        //Pig resources dial\n        var w = context.canvas.clientWidth;\n        var h = context.canvas.clientHeight;\n        var r1 = Math.min(272, 272) * 0.4; // outer radius\n\n        var r0 = r1 - 40; // inner radius\n\n        var n = 10; // number of blocks\n\n        var theta = 2 * Math.PI / n;\n        var phi = theta * 0.5; // relative half-block width\n\n        context.save();\n        context.fillStyle = 'hsla(175, 0%, 55%,0.5)';\n        context.translate(w * 0.07, h * 0.78); // move to center of circle\n        //Rotate so that resource count starts from the north instead of side\n\n        for (let i = 0; i < n - 2; i++) {\n          context.rotate(theta);\n        }\n\n        for (var i = 0; i < n; ++i) {\n          context.beginPath();\n          context.arc(0, 0, r0, -phi, phi);\n          context.arc(0, 0, r1, phi, -phi, true);\n          context.fill();\n          context.strokeStyle = '#656565';\n          context.lineWidth = 2;\n          context.stroke();\n          context.rotate(theta); // rotate the coordinates by one block\n        } //Red blocks for pig\n\n\n        for (var i = 0; i < this.resourcesCollected; ++i) {\n          context.beginPath();\n          context.arc(0, 0, r0, -phi, phi);\n          context.arc(0, 0, r1, phi, -phi, true);\n          context.fillStyle = 'hsla(354, 39%, 43%, 0.8)';\n          context.fill();\n          context.strokeStyle = '#d31d30';\n          context.lineWidth = 2;\n          context.stroke();\n          context.rotate(theta); // rotate the coordinates by one block\n        }\n\n        context.restore(); //Pig avatar\n\n        context.drawImage(this.pigAvatar, 0, 0, 137, 137, w * 0.07 - 68.5, h * 0.78 - 68.5, 137, 137); //Terminals Remaining\n\n        context.beginPath();\n        context.rect(20, h - 70, 250, 25);\n        context.fillStyle = 'black';\n        context.fill();\n        context.closePath();\n\n        if (this.terminalsLeft >= 1) {\n          context.beginPath();\n          context.rect(105, h - 66, 50, 17);\n          context.fillStyle = '#5afdc5';\n          context.fill();\n          context.closePath();\n        }\n\n        if (this.terminalsLeft >= 2) {\n          context.beginPath();\n          context.rect(160, h - 66, 50, 17);\n          context.fillStyle = '#5afdc5';\n          context.fill();\n          context.closePath();\n        }\n\n        if (this.terminalsLeft >= 3) {\n          context.beginPath();\n          context.rect(215, h - 66, 50, 17);\n          context.fillStyle = '#5afdc5';\n          context.fill();\n          context.closePath();\n        } //Terminal label\n\n\n        context.font = \"18px Bebas Neue\";\n        context.textBaseline = 'middle';\n        context.textAlign = 'center';\n        context.fillStyle = '#5afdc5';\n        context.fillText('TERMINALS', 60, h - 56); //Deposits Remaining\n\n        context.beginPath();\n        context.rect(20, h * 0.95, 400, 25);\n        context.fillStyle = 'black';\n        context.fill();\n        context.closePath();\n        context.beginPath();\n        context.rect(105, h * 0.95 + 4, 310 * (this.resourcesLeft / 20), 17);\n        context.fillStyle = '#fdca20';\n        context.fill();\n        context.closePath(); //Deposits label\n\n        context.font = \"18px Bebas Neue\";\n        context.textBaseline = 'middle';\n        context.textAlign = 'center';\n        context.fillStyle = '#fdca20';\n        context.fillText('DEPOSITS', 60, h * 0.95 + 14); //Time Remaining\n\n        context.font = \"bold 40px Oswald\";\n        context.textBaseline = 'middle';\n        context.textAlign = 'center';\n        context.fillStyle = 'white';\n        context.fillText(Math.floor(this.timeLeft * 10) / 10, w - 35, 30); //Clock Icon\n\n        context.drawImage(this.clockIcon, 0, 0, 35, 35, w - 100, 9, 35, 35); //Bunshin\n\n        if (this.resourcesCollected >= 5) {\n          context.drawImage(this.bunshin, 0, 0, 91, 91, w - 100, h - 110, 91, 91);\n        } else {\n          context.drawImage(this.bunshinCooldown, 0, 0, 91, 91, w - 100, h - 110, 91, 91);\n        }\n      }\n  }\n\n}","map":{"version":3,"sources":["/mnt/c/Users/Novirius/Documents/aAProjects/MERNStackProject/frontend/src/client/resBar.js"],"names":["Sprite","pigAvatar","wolfAvatar","clockIcon","bunshin","bunshinCooldown","resBar","constructor","isWolf","id","x","y","width","height","resourcesLeft","terminalsLeft","resourcesCollected","timeLeft","timeEllapsed","killCount","Image","src","update","resource","updateGameInfo","data","console","log","draw","context","w","canvas","clientWidth","h","clientHeight","r1","Math","min","r0","n","theta","PI","phi","save","fillStyle","translate","i","beginPath","arc","fill","strokeStyle","lineWidth","stroke","rotate","restore","drawImage","rect","closePath","font","textBaseline","textAlign","fillText","floor"],"mappings":"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","sourcesContent":["// import raikouSprites from '../assets/images/raikou_sprites.png'\nimport Sprite from './sprite.js'\nimport pigAvatar from '../assets/images/pigAvatar.png'\nimport wolfAvatar from '../assets/images/wolfavatar.png'\nimport clockIcon from '../assets/images/clockicon.png'\nimport bunshin from '../assets/images/bunshin.png'\nimport bunshinCooldown from '../assets/images/bunshindown.png'\n\nexport default class resBar {\n    constructor(isWolf, id, x, y, width, height) {\n        // this.id = id;\n        // this.x = x;\n        // this.y = y;\n        // this.width = width;\n        // this.height = height;\n        this.isWolf = isWolf;\n        this.resourcesLeft = 0;\n        this.terminalsLeft = 0;\n        this.resourcesCollected = 0;\n        this.timeLeft = 0;\n        this.timeEllapsed = 0;\n        this.killCount = 0;\n        this.pigAvatar = new Image();\n        this.pigAvatar.src = pigAvatar;\n        this.wolfAvatar = new Image ();\n        this.wolfAvatar.src = wolfAvatar;\n        this.clockIcon = new Image();\n        this.clockIcon.src = clockIcon;\n        this.bunshin = new Image();\n        this.bunshin.src = bunshin;\n        this.bunshinCooldown = new Image();\n        this.bunshinCooldown.src = bunshinCooldown;\n    }\n\n    update(resource) {\n        this.resourcesCollected = resource;\n    }\n\n    updateGameInfo(data) {\n        if (this.timeLeft === 0) this.timeLeft = data.timeLeft;\n        this.resourcesLeft = data.resourcesLeft;\n        this.terminalsLeft = data.terminalsLeft;\n        this.timeEllapsed += this.timeLeft-data.timeLeft;\n        this.timeLeft = data.timeLeft;\n        this.killCount = data.killCount;\n        console.log(this.killCount)\n    }\n\n    draw(context) {\n        //Wolf stuff\n        if (this.isWolf){\n            //Pig resources dial\n            var w = context.canvas.clientWidth;\n            var h = context.canvas.clientHeight;\n            \n            var r1 = Math.min(274, 274) * 0.4;    // outer radius\n            var r0 = r1 - 40;                 // inner radius\n            \n            var n = 3;                       // number of blocks\n            \n            var theta = 2 * Math.PI / n;\n            var phi = theta * 0.5;           // relative half-block width\n            \n            context.save();\n            context.fillStyle = 'hsla(175, 0%, 55%,0.5)';\n            context.translate(w*0.07, h*0.78);      // move to center of circle\n            for (var i = 0; i < n; ++i) {\n                context.beginPath();\n                context.arc(0, 0, r0, -phi, phi);\n                context.arc(0, 0, r1, phi, -phi, true);\n                context.fill();\n                context.strokeStyle='#656565'\n                context.lineWidth = 2;\n                context.stroke();\n                context.rotate(theta);            // rotate the coordinates by one block\n            }\n            //Purple blocks\n            for (var i = 0; (i < this.killCount); ++i) {\n                context.beginPath();\n                context.arc(0, 0, r0, -phi, phi);\n                context.arc(0, 0, r1, phi, -phi, true);\n                context.fillStyle = 'hsla(263, 39%, 43%, 0.6)';\n                context.fill();\n                context.strokeStyle='#3f1775'\n                context.lineWidth = 2;\n                context.stroke();\n                context.rotate(theta);            // rotate the coordinates by one block\n            }\n            context.restore();\n            //Pig avatar\n            context.drawImage(this.wolfAvatar, 0, 0, 137, 137, (w*0.07)-68.5, (h*0.78)-68.5, 137, 137);\n            //Terminals Remaining\n            context.beginPath();\n            context.rect(20, h-70, 250, 25);\n            context.fillStyle ='black';\n            context.fill();\n            context.closePath();\n            if (this.terminalsLeft >= 1) {\n                context.beginPath();\n                context.rect(105, h-66, 50, 17);\n                context.fillStyle ='#5afdc5';\n                context.fill();\n                context.closePath();\n            }\n            if (this.terminalsLeft >= 2) {\n                context.beginPath();\n                context.rect(160, h-66, 50, 17);\n                context.fillStyle ='#5afdc5';\n                context.fill();\n                context.closePath();\n            }\n            if (this.terminalsLeft >= 3) {\n                context.beginPath();\n                context.rect(215, h-66, 50, 17);\n                context.fillStyle ='#5afdc5';\n                context.fill();\n                context.closePath();\n            }\n            //Terminal label\n            context.font = \"18px Bebas Neue\"\n            context.textBaseline = 'middle';\n            context.textAlign = 'center';\n            context.fillStyle= '#5afdc5';\n            context.fillText('TERMINALS', 60, h-56);\n\n\n            //Deposits Remaining\n            context.beginPath();\n            context.rect(20, h*0.95, 400, 25);\n            context.fillStyle ='black';\n            context.fill();\n            context.closePath();\n\n            context.beginPath();\n            context.rect(105, h*0.95+4, 310*(this.resourcesLeft/20), 17);\n            context.fillStyle ='#fdca20';\n            context.fill();\n            context.closePath();\n\n            //Deposits label\n            context.font = \"18px Bebas Neue\"\n            context.textBaseline = 'middle';\n            context.textAlign = 'center';\n            context.fillStyle= '#fdca20';\n            context.fillText('DEPOSITS', 60, h*0.95+14);\n            //Time Remaining\n            context.font = \"bold 40px Oswald\"\n            context.textBaseline = 'middle';\n            context.textAlign = 'center';\n            context.fillStyle= 'white';\n            context.fillText((Math.floor(this.timeLeft*10)/10), w-35, 30);\n            //Clock Icon\n            context.drawImage(this.clockIcon, 0, 0, 35, 35, w-100, 9, 35, 35);\n\n        } \n        //Pig stuff\n        else {\n            //Pig resources dial\n            var w = context.canvas.clientWidth;\n            var h = context.canvas.clientHeight;\n            \n            var r1 = Math.min(272, 272) * 0.4;    // outer radius\n            var r0 = r1 - 40;                 // inner radius\n            \n            var n = 10;                       // number of blocks\n            \n            var theta = 2 * Math.PI / n;\n            var phi = theta * 0.5;           // relative half-block width\n            \n            context.save();\n            context.fillStyle = 'hsla(175, 0%, 55%,0.5)';\n            context.translate(w*0.07, h*0.78);      // move to center of circle\n            //Rotate so that resource count starts from the north instead of side\n            for(let i= 0; i< n-2; i++){\n                context.rotate(theta);\n            }\n            for (var i = 0; i < n; ++i) {\n                context.beginPath();\n                context.arc(0, 0, r0, -phi, phi);\n                context.arc(0, 0, r1, phi, -phi, true);\n                context.fill();\n                context.strokeStyle='#656565'\n                context.lineWidth = 2;\n                context.stroke();\n                context.rotate(theta);            // rotate the coordinates by one block\n            }\n            //Red blocks for pig\n            for (var i = 0; (i < this.resourcesCollected); ++i) {\n                context.beginPath();\n                context.arc(0, 0, r0, -phi, phi);\n                context.arc(0, 0, r1, phi, -phi, true);\n                context.fillStyle = 'hsla(354, 39%, 43%, 0.8)';\n                context.fill();\n                context.strokeStyle='#d31d30'\n                context.lineWidth = 2;\n                context.stroke();\n                context.rotate(theta);            // rotate the coordinates by one block\n            }\n            context.restore();\n            //Pig avatar\n            context.drawImage(this.pigAvatar, 0, 0, 137, 137, (w*0.07)-68.5, (h*0.78)-68.5, 137, 137);\n            //Terminals Remaining\n            context.beginPath();\n            context.rect(20, h-70, 250, 25);\n            context.fillStyle ='black';\n            context.fill();\n            context.closePath();\n            if (this.terminalsLeft >= 1) {\n                context.beginPath();\n                context.rect(105, h-66, 50, 17);\n                context.fillStyle ='#5afdc5';\n                context.fill();\n                context.closePath();\n            }\n            if (this.terminalsLeft >= 2) {\n                context.beginPath();\n                context.rect(160, h-66, 50, 17);\n                context.fillStyle ='#5afdc5';\n                context.fill();\n                context.closePath();\n            }\n            if (this.terminalsLeft >= 3) {\n                context.beginPath();\n                context.rect(215, h-66, 50, 17);\n                context.fillStyle ='#5afdc5';\n                context.fill();\n                context.closePath();\n            }\n            //Terminal label\n            context.font = \"18px Bebas Neue\"\n            context.textBaseline = 'middle';\n            context.textAlign = 'center';\n            context.fillStyle= '#5afdc5';\n            context.fillText('TERMINALS', 60, h-56);\n\n\n            //Deposits Remaining\n            context.beginPath();\n            context.rect(20, h*0.95, 400, 25);\n            context.fillStyle ='black';\n            context.fill();\n            context.closePath();\n\n            context.beginPath();\n            context.rect(105, h*0.95+4, 310*(this.resourcesLeft/20), 17);\n            context.fillStyle ='#fdca20';\n            context.fill();\n            context.closePath();\n\n            //Deposits label\n            context.font = \"18px Bebas Neue\"\n            context.textBaseline = 'middle';\n            context.textAlign = 'center';\n            context.fillStyle= '#fdca20';\n            context.fillText('DEPOSITS', 60, h*0.95+14);\n            //Time Remaining\n            context.font = \"bold 40px Oswald\"\n            context.textBaseline = 'middle';\n            context.textAlign = 'center';\n            context.fillStyle= 'white';\n            context.fillText((Math.floor(this.timeLeft*10)/10), w-35, 30);\n            //Clock Icon\n            context.drawImage(this.clockIcon, 0, 0, 35, 35, w-100, 9, 35, 35);\n\n            //Bunshin\n            if (this.resourcesCollected >= 5) {\n                context.drawImage(this.bunshin, 0, 0, 91, 91, w-100, h-110, 91, 91);\n            }\n            else {\n                context.drawImage(this.bunshinCooldown, 0, 0, 91, 91, w-100, h-110, 91, 91);\n            }\n        }\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}